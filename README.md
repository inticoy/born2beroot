# README.md

# üñ•Ô∏è¬†Why Virtual Machine?

## ‚ùì¬†How Virtual Machine works?

HypervisorÍ∞Ä Í∞ÄÏÉÅÎ®∏Ïã†Ïù¥ Ìò∏Ïä§Ìä∏Ïùò ÌïòÎìúÏõ®Ïñ¥Î•º ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤åÎÅî Ìï¥Ï§ÄÎã§. ÌïòÏßÄÎßå Hypervisor ÎòêÌïú Virtual BoxÏôÄ Í∞ôÏùÄ ÌîÑÎ°úÍ∑∏Îû®Ïù¥Í∏∞ ÎïåÎ¨∏Ïóê, Ìò∏Ïä§Ìä∏Ïùò Ïö¥ÏòÅÏ≤¥Ï†ú ÏÉÅÏóêÏÑú Ïã§ÌñâÎêòÏñ¥ Í∞ÄÏÉÅÎ®∏Ïã†Ïù¥ ÏöîÍµ¨Ìïú ÏûëÏóÖÏù¥ Ïã§ÌñâÎêòÎèÑÎ°ù ÌïòÍ≥†, Í∞ÄÏÉÅÎ®∏Ïã† ÏûÖÏû•ÏóêÏÑúÎäî Ïã§Ï†úÎ°ú Ïª¥Ìì®ÌÑ∞ ÌïòÎìúÏõ®Ïñ¥ ÏÉÅÏóêÏÑú Í≥ßÎ∞îÎ°ú Ïã§ÌñâÎêòÎäî Í≤ÉÏ≤òÎüº Ïù∏ÏãùÎêòÎèÑÎ°ù ÌïúÎã§.

ÏâΩÍ≤å ÎßêÌï¥, Virtual BoxÎäî ÌîÑÎ°úÍ∑∏Îû®ÏúºÎ°úÏÑú Host OSÏóêÍ≤å Ïã§Ï†ú ÌïòÎìúÏõ®Ïñ¥Î•º ÏùºÎ∂ÄÎ∂Ñ Ìï†ÎãπÎ∞õÍ≥†, Guest OSÍ∞Ä  Ìï†ÎãπÎ∞õÏùÄ ÌïòÎìúÏõ®Ïñ¥Î•º Ï†ÑÎ∂ÄÎùºÍ≥† ÏÉùÍ∞ÅÌïòÍ≤åÎÅî Ìï¥Ï£ºÎäî Ïó≠Ìï†ÏùÑ ÌïúÎã§.

## üñ•Ô∏è¬†Purpose of Virtual Machine

ÏÉàÎ°úÏö¥ ÌïòÎìúÏõ®Ïñ¥Î•º Ïû•ÎßåÌï† ÌïÑÏöî ÏóÜÏù¥ ÏãúÏä§ÌÖúÏùÑ Íµ¨Ï∂ïÌï† Ïàò ÏûàÎã§Îäî Ïû•Ï†êÏù¥ ÏûàÎã§. 
Í∞úÏù∏Ïùò Í¥ÄÏ†êÏóêÏÑúÎäî Îß•ÏùÑ Ïì∞Îäî ÏÇ¨ÎûåÏù¥ ÏúàÎèÑÏö∞Ïö© Ïª¥Ìì®ÌÑ∞Î•º Ï∂îÍ∞ÄÎ°ú ÏÇ¥ ÌïÑÏöî ÏóÜÏù¥ ÌîÑÎ°úÍ∑∏Îû®Ï≤òÎüº ÏúàÎèÑÏö∞Î•º ÏÑ§ÏπòÌï¥ Ïì∏ Ïàò ÏûàÍ∏∞ÎèÑÌïòÍ≥† Ïù¥Î•º ÌÜµÌï¥ Îã§Î•∏ Ïö¥ÏòÅÏ≤¥Ï†úÏóêÏÑúÎßå ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎäî ÌîÑÎ°úÍ∑∏Îû® Îì±ÏùÑ ÌÖåÏä§Ìä∏ÌïòÎäî Ïö©ÎèÑ Îì±ÏúºÎ°ú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎã§.

ÏòàÏãúÎ°ú, Born2BeRoot Í≥ºÏ†úÎßå ÌïòÎçîÎùºÎèÑ, Îß• Ïª¥Ìì®ÌÑ∞Ïóê Î¶¨ÎàÖÏä§Î•º Î¨ºÎ¶¨Ï†ÅÏúºÎ°ú ÏÑ§ÏπòÌïòÏßÄ ÏïäÍ≥† Í∞ÄÏÉÅÎ®∏Ïã†Ïóê ÏÑ§ÏπòÌï®ÏúºÎ°úÏç® Ìò∏Ïä§Ìä∏ Îß• Ïö¥ÏòÅÏ≤¥Ï†úÏóê ÏòÅÌñ•ÏùÑ Ï£ºÏßÄ ÏïäÍ≥† Î¶¨ÎàÖÏä§ ÌôòÍ≤ΩÏóêÏÑú Îã§ÏñëÌïú ÏûëÏóÖÎì§ÏùÑ Ìï† Ïàò ÏûàÍ≥†, Î¶¨ÎàÖÏä§ ÌôòÍ≤ΩÏùò ÏÑúÎ≤ÑÎ•º Íµ¨ÏÑ±Ìï† ÏàòÎèÑ ÏûàÎã§.

ÌöåÏÇ¨ÎÇò ÏÑúÎ≤ÑÏùò Í¥ÄÏ†êÏóêÏÑúÎäî ÌïúÎåÄÏùò ÏÑúÎ≤Ñ Ïª¥Ìì®ÌÑ∞Ïóê Ïó¨Îü¨ Í∞úÏùò Í∞ÄÏÉÅ Î®∏Ïã†ÏùÑ ÎßåÎì§Ïñ¥ Ïó¨Îü¨ Í∞úÏùò ÏÑúÎ≤ÑÎ•º ÎèåÎ¶¨Î©¥ Ïú†ÏßÄ ÎπÑÏö©Ïù¥ÎÇò Í¥ÄÎ¶¨ Îì±ÏóêÏÑú Ïú†Î¶¨ÌïòÎã§.

Îã§ÏñëÌïú ÏòàÏãúÍ∞Ä ÏûàÍ≤†ÏßÄÎßå, AWS Îäî ÏÑúÎ≤Ñ Ïª¥Ìì®ÌÑ∞ ÌïòÎÇòÏóêÏÑú Í∞ÄÏÉÅ Î®∏Ïã†ÏùÑ ÎßåÎì§Ïñ¥ Í∞ÅÍ∞ÅÏùò Í∞ÄÏÉÅ Î®∏Ïã† ÏÑúÎ≤ÑÎ•º ÏÇ¨Ïö©ÏûêÎì§ÏóêÍ≤å ÎπåÎ†§Ï£ºÎäî Î∞©ÏãùÏúºÎ°ú ÌÅ¥ÎùºÏö∞Îìú ÏÑúÎ≤Ñ ÏãúÏä§ÌÖúÏùÑ ÎåÄÏó¨Ìï¥Ï£ºÍ≥† ÏûàÎã§.

- ÎπÑÏö© Ï†àÍ∞ê, ÎØºÏ≤©ÏÑ± Î∞è ÏÜçÎèÑ, Í∞ÄÎèô Ï§ëÏßÄ ÏãúÍ∞Ñ Í∞êÏÜå, Ïä§ÏºÄÏùºÎßÅ ÏÑ±Îä•, Î≥¥Ïïà Ïù¥Ï†ê (Ï∂úÏ≤ò : [microsoft asure](https://azure.microsoft.com/ko-kr/resources/cloud-computing-dictionary/what-is-a-virtual-machine))

# üë™¬†About Debian

### üÜö¬†Rocky vs. Debian

LinuxÏóêÎäî ÌÅ¨Í≤å Redhat Í≥ÑÏó¥Í≥º Debian Í≥ÑÏó¥Ïùò LinuxÎ°ú ÎÇòÎàÑÏñ¥ÏßÑÎã§.

Redhat Enterprise LinuxÎäî Redhat Í∏∞ÏóÖÏóêÏÑú Í∞úÎ∞úÌïòÍ≥† ÏûàÎäî Í∏∞ÏóÖÏö© Î¶¨ÎàÖÏä§Î°ú, Ïò§Ìîà ÏÜåÏä§Ïù¥ÏßÄÎßå, 1ÎÖÑ Îã®ÏúÑ Íµ¨ÎèÖÏùÑ Ìï¥ÏÑú ÎπÑÏö©ÏùÑ ÏßÄÎ∂àÌïòÎ©¥ SW ÏóÖÎç∞Ïù¥Ìä∏ Îì±Ïùò Í∏∞Ïà†ÏßÄÏõêÏùÑ Î∞õÏùÑ Ïàò ÏûàÎã§. Ìïú Í∏∞ÏóÖÏóêÏÑú Ï†úÍ≥µÌïòÎäî Î¶¨ÎàÖÏä§Ïù¥Í∏∞ ÎïåÎ¨∏Ïóê ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä 6Í∞úÏõî Ï£ºÍ∏∞Î°ú Îä¶Îã§. Ìå®ÌÇ§ÏßÄ Í¥ÄÎ¶¨ÏûêÎäî RPM(Redhat Package Manager)Î•º ÏÇ¨Ïö©ÌïòÎ©∞ Ìå®ÌÇ§ÏßÄ ÏùòÏ°¥ÏÑ± Ìï¥Í≤∞ÏùÑ ÏúÑÌï¥  YUMÏùÑ ÏÇ¨Ïö©ÌïúÎã§. Ìå®ÌÇ§ÏßÄ Í∞úÏàòÎäî 3000Ïó¨Í∞úÎ°ú Ï†ÅÏùÄÎç∞, Ïù¥Îäî ÏïàÏ†ïÏÑ±ÏùÑ ÏúÑÌïú Í≤ÉÏúºÎ°ú Î≥¥Ïù∏Îã§. Î¨ºÎ°†, Ïç®ÎìúÌååÌã∞ Ìå®ÌÇ§ÏßÄ Í¥ÄÎ¶¨Ïûê Îì±ÏùÑ Ïù¥Ïö©Ìï¥ ÏÑ§ÏπòÌï¥ÏÑú ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎã§.

Redhat Í≥ÑÏó¥Ïùò LinuxÎäî Fedora LinuxÍ∞Ä ÏµúÏã† Í∏∞Ïà†ÏùÑ Ìè¨Ìï®Ìï¥ ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä ÎêòÎ©¥ (Beta Î≤ÑÏ†ÑÍ≥º Í∞ôÏù¥) Ïù¥ÌõÑ Redhat Enterprise LinuxÎ°ú ÏóÖÎç∞Ïù¥Ìä∏Í∞Ä Ï†ÅÏö©ÎêòÍ≥†, Ïù¥ÌõÑ Í∑∏ ÏΩîÎìúÎ•º Í∞ÄÏßÄÍ≥† Rocky LinuxÍ∞Ä Ï∂úÏãúÎêòÎäî Î∞©ÏãùÏù¥Îã§. RHELÏùÄ Îß§Ïö∞ ÏïàÏ†ïÏ†ÅÏù¥Ïó¨ÏÑú ÎåÄÌòï Í∏∞ÏóÖÎì§Ïùò ÏÑúÎ≤ÑÎì§Î°úÎèÑ ÏÇ¨Ïö©ÎêòÍ≥†, CERN(Ïú†ÎüΩ ÏûÖÏûê Î¨ºÎ¶¨ Ïó∞Íµ¨ÏÜå), Fermilab(ÌéòÎ•¥ÎØ∏ Íµ≠Î¶Ω Í∞ÄÏÜçÍ∏∞ Ïó∞Íµ¨ÏÜå) Îì±Ïùò Í≥ºÌïô Ïó∞Íµ¨ÏÜåÎì§ÏóêÏÑúÎèÑ Ïù¥ Î¶¨ÎàÖÏä§Î•º ÏÇ¨Ïö©ÌïúÎã§.

Debian LinuxÎäî Ïª§ÎÆ§ÎãàÌã∞ Í∏∞Î∞òÏùò ÌîÑÎ°úÏ†ùÌä∏Î°ú Í∞úÎ∞úÎêòÏñ¥ ÏóÖÎç∞Ïù¥Ìä∏ÏôÄ Î≤ÑÍ∑∏ ÏàòÏ†ïÏù¥ Îπ†Î•¥Îã§. Ìå®ÌÇ§ÏßÄ Í¥ÄÎ¶¨ÏûêÎäî DPKG(Debian Package)Î•º ÏÇ¨Ïö©ÌïòÍ≥†, Ìå®ÌÇ§ÏßÄ ÏùòÏ°¥ÏÑ± Ìï¥Í≤∞ÏùÑ ÏúÑÌï¥ APTÎ•º ÏÇ¨Ïö©ÌïúÎã§. Ìå®ÌÇ§ÏßÄ Í∞úÏàòÎäî 3ÎßåÏó¨Í∞úÍ∞Ä ÎÑòÎäîÎã§. ÏùòÏ°¥ÏÑ± Ìï¥Í≤∞ Ï∏°Î©¥ÏóêÏÑúÎäî YUM Î≥¥Îã§ APTÏù¥ Îçî Îõ∞Ïñ¥ÎÇòÎã§. 

Debian LinuxÎäî Stable Î≤ÑÏ†ÑÎßå Ï°¥Ïû¨ÌïòÎäî RHELÍ≥º Îã¨Î¶¨ Stable, Unstable, Testing Ï†ÄÏû•ÏÜåÍ∞Ä Ï°¥Ïû¨ÌïúÎã§. ÏùºÎ∞ò ÏÇ¨Ïö©ÏûêÎì§Ïù¥ ÎßéÏù¥ ÏÇ¨Ïö©ÌïòÎäî Ubuntu Linux Ïó≠Ïãú Debian LinuxÎ•º Í∏∞Î∞òÏúºÎ°ú ÌïòÎ©∞, Íµ¨Í∏ÄÏóêÏÑúÎèÑ DebianÏùÑ Í∏∞Î∞òÏúºÎ°ú ÏàòÏ†ïÌïú gLinuxÎ•º ÏÇ¨Ïö©ÌïúÎã§.

### üÜö¬†apt vs. aptitude

Îç∞ÎπÑÏïà Î¶¨ÎàÖÏä§ÏóêÏÑúÎäî dpkg(Debian PacKaGe)Î°ú *.deb ÎùºÎäî ÏÑ§Ïπò ÌååÏùºÎ°ú Ìå®ÌÇ§ÏßÄÎ•º ÏÑ§Ïπò Ìï† Ïàò ÏûàÎã§. Í∑∏Îü∞Îç∞ Ìå®ÌÇ§ÏßÄÎì§ÏùÄ Ïã§ÌñâÎêòÍ∏∞ ÏúÑÌï¥ ÌïÑÏöîÎ°ú ÌïòÎäî(ÏùòÏ°¥ÌïòÎäî) Îã§Î•∏ Ìå®ÌÇ§ÏßÄÎì§Ïù¥ ÏûàÎäîÎç∞, Ïù¥Î°ú Ïù∏Ìï¥ ÏùòÏ°¥ÏÑ± Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌïòÍ≤å ÎêúÎã§. Ïù¥Î•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌï¥ AptÏôÄ Aptitude Í∞ôÏùÄ Front-end ÎèÑÍµ¨Í∞Ä ÏÉùÍ≤®ÎÇ¨Îã§. 

apt-get ÏùÄ ÏÇ¨Ïö©ÏûêÍ∞Ä A Ìå®ÌÇ§ÏßÄÏùò ÏÑ§ÏπòÎ•º ÏöîÍµ¨ÌïòÎ©¥ /etc/apt/sources.list ÌååÏùºÏóêÏÑú Ïö∞Î∂ÑÌà¨ Ìå®ÌÇ§ÏßÄ Ï†ÄÏû•ÏÜåÏùò ÎßÅÌÅ¨Î•º Ï∞æÏïÑ A Ìå®ÌÇ§ÏßÄ ÏÑ§ÏπòÏóê ÌïÑÏöîÌïú Ìå®ÌÇ§ÏßÄ Î™©Î°ùÏùÑ Î∞õÏïÑ ÌïÑÏöî Ìå®ÌÇ§ÏßÄÎì§ÏùÑ Î®ºÏ†Ä ÏÑ§ÏπòÌïú Îí§ A Ìå®ÌÇ§ÏßÄÎ•º ÏÑ§ÏπòÌïúÎã§.

APTÎäî Ïª§Îß®Îìú ÎùºÏù∏ÏóêÏÑú ÏûëÎèôÌïòÎäî Ìå®ÌÇ§ÏßÄ Í¥ÄÎ¶¨ ÎèÑÍµ¨Ïù¥Îã§. Í∏∞Ï°¥Ïóê Ìå®ÌÇ§ÏßÄ ÏÑ§Ïπò Î∞è ÏÇ≠Ï†úÎ•º ÏúÑÌï¥ ÏÇ¨Ïö©ÌñàÎçò apt-getÍ≥º Ìå®ÌÇ§ÏßÄ Í≤ÄÏÉâ Î∞è ÏùòÏ°¥ÏÑ± Î¨∏Ï†ú ÌôïÏù∏ÏùÑ ÏúÑÌï¥ ÏÇ¨Ïö©ÌñàÎçò apt-cacheÏùò ÌïµÏã¨ Í∏∞Îä•ÏùÑ Ìï©Ï≥ê Ï°∞Í∏à Îçî ÏÇ¨Ïö©Ïûê ÏπúÌôîÏ†ÅÏúºÎ°ú ÎßåÎì† ÎèÑÍµ¨Ïù¥Îã§.

Aptitude Îäî Í∏∞Îä•ÏÉÅÏúºÎ°ú aptÏôÄ ÎπÑÏä∑ÌïòÏßÄÎßå TUI(Text User Interface) Ïù¥Î©∞, ÏùòÏ°¥ÏÑ± Î¨∏Ï†ú Î∞úÏÉùÏãú Îã§Î•∏ ÎåÄÏïàÏùÑ Ï†úÏãúÌï¥Ï£ºÎäî Îì±Ïùò Ï∂îÍ∞Ä Í∏∞Îä•Ïù¥ ÏûàÎã§.

### üÜö¬†DAC vs. MAC

Î¶¨ÎàÖÏä§ÎÇò Ïú†ÎãâÏä§Îäî Í∏∞Î≥∏Ï†ÅÏúºÎ°ú DAC Î∞©ÏãùÏùÑ Ïù¥Ïö©Ìï¥ ÏÇ¨Ïö©ÏûêÏùò Î¶¨ÏÜåÏä§Ïóê ÎåÄÌïú Ï†ëÍ∑ºÏùÑ Ï†úÏñ¥ÌïòÎäîÎç∞, Redhat Í≥ÑÏó¥Ïùò Î¶¨ÎàÖÏä§ÏóêÏÑúÎäî SELinux(Security Enhanced Linux)Í∞Ä, Debian Í≥ÑÏó¥ÏóêÏÑúÎäî AppApmor(Application Armor) Î™®ÎìàÏù¥ MAC Î∞©ÏãùÏùÑ Ïù¥Ïö©Ìï¥ Ï†ëÍ∑ºÏùÑ Ï†úÏñ¥ÌïúÎã§.

DAC(Discretionary Access Control), ÏûÑÏùò Ï†ëÍ∑º ÌÜµÏ†úÎäî ÏãúÏä§ÌÖú Í∞ùÏ≤¥ Ï†ëÍ∑ºÏùÑ ÏÇ¨Ïö©Ïûê ÌòπÏùÄ Í∑∏Î£πÏùò Ïã†Î∂ÑÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Ï†úÌïúÌïòÎäî Î∞©Î≤ïÏù¥Îã§. ÏÇ¨Ïö©ÏûêÏùò ÌåêÎã®ÌïòÏóê ÏûêÏã†Ïù¥ ÏÜåÏú†Ìïú ÌååÏùºÏùò Ï†ëÍ∑º Í∂åÌïúÏùÑ Îã§Î•∏ ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ï§Ñ Ïàò ÏûàÎã§. Ïù¥Î°ú Ïù∏Ìï¥ Î∞úÏÉùÌïòÎäî Í∞ÄÏû• ÌÅ∞ Î¨∏Ï†úÎäî ÏÇ¨Ïö©ÏûêÏùò Í∂åÌïúÏùÑ, ÌäπÌûà rootÏùò Í∂åÌïúÏùÑ ÌÉàÏ∑®ÎãπÌïúÎã§Î©¥ ÏãúÏä§ÌÖúÏùÑ ÏôÑÎ≤ΩÌûà Ïû•ÏïÖÎãπÌï† Ïàò ÏûàÎã§Îäî Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌïúÎã§. 

MAC(Mandatory Access Control), Í∞ïÏ†ú Ï†ëÍ∑º ÌÜµÏ†úÎäî ÎØ∏Î¶¨ Ï†ïÌï¥ÏßÑ Ï†ïÏ±ÖÍ≥º Î≥¥Ïïà Îì±Í∏âÏóê Îî∞Îùº ÏÇ¨Ïö©ÏûêÏôÄ Í∞ùÏ≤¥Ïùò ÌóàÏö© Îì±Í∏âÏùÑ ÎπÑÍµêÌïòÏó¨ Ï†ëÍ∑ºÏùÑ ÌÜµÏ†úÌïòÎäî Î∞©Î≤ïÏù¥Îã§. ÎÜíÏùÄ Î≥¥Ïïà Îì±Í∏âÏùò Ï†ïÎ≥¥Îäî ÎÇÆÏùÄ Î≥¥Ïïà Îì±Í∏âÏùò ÏÇ¨Ïö©ÏûêÍ∞Ä Ï†ëÍ∑ºÌï† Ïàò ÏóÜÏúºÎ©∞, ÏïÑÎ¨¥Î¶¨ ÏÜåÏú†ÏûêÎùºÍ≥† ÌïòÎçîÎùºÎèÑ Îì±Í∏â Ï†ïÏ±ÖÏóê Ïñ¥Í∏ãÎÇòÎ©¥ Ï†ëÍ∑ºÌï† Ïàò ÏóÜÎã§.

### üõ°Ô∏è AppArmor

AppArmorÎäî MAC Î∞©ÏãùÏúºÎ°ú Ï†ëÍ∑ºÏùÑ Ï†úÏñ¥ÌïòÎäî Î™®ÎìàÎ°ú, ÌîÑÎ°úÍ∑∏Îû®Îì§Ïù¥ Ïã§ÌñâÎêòÍ∏∞ Ï†ÑÏóê Ìò∏Ï∂úÎêòÎäî Î™ÖÎ†πÎì§ÏùÑ Í≤ÄÏÇ¨ÌïòÍ≥† Ïã§ÌñâÏó¨Î∂ÄÎ•º Ï†ïÌï† Ïàò ÏûàÎã§. Îçî ÏûêÏÑ∏Ìïú ÏòàÏãúÎ°úÎäî System CallÏùÑ Ï†úÌïúÌïòÏó¨ ÌîÑÎ°úÍ∑∏Îû®Ïùò ÎèôÏûëÏùÑ Ï†úÌïúÌïúÎã§.

```bash
# Check AppArmor Status
aa-status

# Check AppArmor Enabled
aa-enabled
```

# ‚èØÔ∏è¬†Using Linux

## üè†¬†Hostname

- ÎÑ§Ìä∏ÏõåÌÅ¨ÏóêÏÑú ÏãúÏä§ÌÖú(Ïª¥Ìì®ÌÑ∞)ÏùÑ ÌäπÏ†ïÌïòÍ∏∞ ÏúÑÌïú Ïù¥Î¶Ñ
- [Í±¥Î¨º]

```bash
# Check Hostname
sudo hostnamectl

# Change Hostname (/etc/hostname)
sudo hostnamectl set-hostname [new one]

# Change Hostname (/etc/hosts)
sudo vi /etc/hosts
# [old] -> [new]
```

## üåÜ¬†Domain name

- hostnameÏùò Ïò§Î•∏Ï™ΩÏóê Î∂ôÏñ¥ hostÎì§Ïù¥ Îì§Ïñ¥ÏûàÎäî ÎÑ§Ìä∏ÏõåÌÅ¨Î•º ÏßÄÏπ≠ÌïòÎäî Ïù¥Î¶Ñ
- [ÎèôÎÑ§]

## ‚èØÔ∏è¬†USAGE

- ÏùºÎ∞òÏ†ÅÏúºÎ°ú [hostname.domain.com](http://hostname.domain.com) Í≥º Í∞ôÏùÄ ÏãùÏúºÎ°ú ÏÇ¨Ïö©ÎêòÎ©∞ Îã§Î•∏ ÎèÑÎ©îÏù∏Ïóê Îì§Ïñ¥ÏûàÎäî ÌäπÏ†ï hostÏóê Ï†ëÏÜçÌïòÍ∏∞ ÏúÑÌï¥ÏÑú Îëê Ïù¥Î¶Ñ Î™®Îëê ÌïÑÏöî
- Í∞ôÏùÄ ÎÑ§Ìä∏ÏõåÌÅ¨ ÎèÑÎ©îÏù∏ ÏÉÅÏóêÏÑú Îã§Î•∏ Ïª¥Ìì®ÌÑ∞Ïóê Ï†ëÏÜçÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî hostname ÎßåÏúºÎ°ú Ï†ëÏÜç Í∞ÄÎä•
- [ÌäπÏ†ïÍ±¥Î¨ºÏù¥Î¶Ñ].[ÎèôÎÑ§Î™Ö].com

### ‚ùì¬†ÌÉÑÏÉùÎ∞∞Í≤Ω

- Ïª¥Ìì®ÌÑ∞Í∞Ä Î∞© ÌÅ¨Í∏∞ÎßåÌïòÎçò ÏãúÏ†àÏùÑ ÏÉùÍ∞ÅÌï¥Î≥¥Î©¥ Ïù¥Ìï¥ÌïòÍ∏∞ Ïâ¨ÏõÄ. ÏßÄÍ∏àÍ≥º Í∞ôÏù¥ Ïù∏Îãπ ÌïòÎÇòÏî© Ïª¥Ìì®ÌÑ∞Î•º Í∞ÄÏßÄÍ≥† ÏûàÎäî Í≤ÉÏù¥ ÏïÑÎãàÎùº, Îß§Ïö∞ ÎπÑÏãº Ïª¥Ìì®ÌÑ∞Î•º Ïó¨Îü¨ ÏÇ¨ÎûåÎì§Ïù¥ ÎèôÏãúÏóê Ï†ëÏÜçÌï¥ÏÑú ÏÇ¨Ïö©ÌïòÍ∏∞ ÏúÑÌï¥ Îã§Ï§ë ÏÇ¨Ïö©Ïûê Ïö¥ÏòÅÏ≤¥Ï†úÎ°ú Íµ¨ÌòÑÌïú Í≤ÉÏù¥Îã§. Ïù¥Ïô∏Ïùò Í∏∞Îä•Îì§ÎèÑ Ïù¥Îü¨Ìïú Í¥ÄÏ†êÏóêÏÑú Î∞îÎùºÎ≥¥Î©¥ Ï°¥Ïû¨ Ïù¥Ïú†Í∞Ä Îçî Î∂ÑÎ™ÖÌïú Í≤ÉÎì§Ïù¥ ÎßéÎã§.

```bash
# Add user
sudo adduser [new username]

# Delete user
sudo deluserq -r [username]
```

## üë•¬†Group

```bash
# print the groups a user is in
groups [username]

# make group
groupadd [groupname]

# Delete group
groupdel [groupname]

# add a user into groups
usermod -aG sudo,user42 gyoon
```

# üåê¬†Setting Server

## üöß¬†UFW

### Definition

UFW(Uncomplicated Firewall)ÏùÄ Debian Í≥ÑÏó¥Ïùò Î¶¨ÎàÖÏä§ÏóêÏÑú Î∞©ÌôîÎ≤Ω ÏÑ§Ï†ïÏùÑ ÏâΩÍ≤å Í¥ÄÎ¶¨ Ìï† Ïàò ÏûàÍ≤åÎÅî ÌïòÍ∏∞ ÏúÑÌï¥ ÏûàÎäî ÌîÑÎ°úÍ∑∏Îû®Ïù¥Îã§. ÏÇ¨Ïö©Î≤ïÏù¥ ÍπåÎã§Î°úÏö¥ iptablesÎ≥¥Îã§ Í∞ÑÎã®ÌïòÍ≤å ÏÑ§Ï†ïÌï† Ïàò ÏûàÎèÑÎ°ù Ìïú Ìå®ÌÇ§ÏßÄÏù¥Îã§. 

### Solution

```bash
# Check Installed or not
apt search ufw
dpkg -l ufw

# Install
apt install ufw

# Check Status
ufw status

# Enable UFW
ufw enable

# Standard Imcoming deny
ufw default deny

# Allow only port 4242
ufw allow 4242

# Firewall status show in numbers
ufw status numbered

# Delete Rules
ufw delete [number]
```

## üîê¬†SSH

### Definition

![Untitled](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Untitled.png)

SSH(Secure Shell)ÏùÄ Îã§Î•∏ Ïª¥Ìì®ÌÑ∞Ïùò Î°úÍ∑∏Ïù∏ÌïòÏó¨ ShellÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤å Ìï¥Ï£ºÎäî ÌîÑÎ°úÍ∑∏Îû® ÌòπÏùÄ ÌîÑÎ°úÌÜ†ÏΩúÏùò Î™ÖÏπ≠Ïù¥Îã§. Í∏∞Ï°¥Ïùò ÏõêÍ≤© Ï†ëÏÜç Î∞©ÏãùÏù¥ÏóàÎçò TelnetÏùÄ ÏïîÌò∏ÌôîÎ•º Ï†úÍ≥µÌïòÏßÄ ÏïäÏïÑ Ìå®ÌÇ∑ÏùÑ Î∂ÑÏÑùÌïòÎ©¥ Ï£ºÍ≥† Î∞õÎäî ÌååÏùºÏùò ÎÇ¥Ïö©Ïù¥ÎÇò ÎπÑÎ∞ÄÎ≤àÌò∏ Îì±Ïùò Îç∞Ïù¥ÌÑ∞Î•º ÌÉàÏ∑®Ìï† Ïàò ÏûàÏóàÎäîÎç∞, SSHÎäî Ïù¥Î•º ÏïîÌò∏ÌôîÌïòÏó¨ ÏïàÏ†ÑÌïòÍ≤å ÌÜµÏã†Ìï† Ïàò ÏûàÎèÑÎ°ù ÌïúÎã§. ÎåÄÏπ≠ÌÇ§ Î∞©ÏãùÏù¥ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏-ÏÑúÎ≤Ñ Í∞Ñ Ïó∞Í≤∞ ÏïîÌò∏ÌôîÏóê ÏÇ¨Ïö©ÎêòÍ≥†, ÎπÑÎåÄÏπ≠ÌÇ§ Î∞©ÏãùÏù¥ ÌÇ§ ÍµêÌôò, ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ïù∏Ï¶ù, ÏÑúÎ≤Ñ Ïù∏Ï¶ùÏóê ÏÇ¨Ïö©ÎêúÎã§. ÎòêÌïú Ìï¥Ïãú ÏïåÍ≥†Î¶¨Ï¶òÏù¥ Ìå®ÌÇ∑Ïùò Î¨¥Í≤∞ÏÑ± ÌôïÏù∏ÏùÑ ÏúÑÌï¥ ÏÇ¨Ïö©ÎêúÎã§. Í∑∏ ÏÇ¨Ïö© ÏòàÏãúÏôÄ SSH ÌîÑÎ°úÌÜ†ÏΩúÏùò ÏàúÏÑúÎäî Îã§ÏùåÍ≥º Í∞ôÎã§. 

1. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä ÏÑúÎ≤ÑÏùò TCP Ìè¨Ìä∏(Default : 22)Î°ú SSH Ï†ëÏÜç ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥Î©¥ ÏÑúÎ≤ÑÎäî ÏûêÏã†Ïù¥ ÏßÄÏõêÌïòÎäî SSH ÌîÑÎ°úÌÜ†ÏΩúÏùò Î≤ÑÏ†ÑÏùÑ ÏùëÎãµÏúºÎ°ú Î≥¥ÎÇ¥ Ï§ÄÎã§. Í∑∏Îü¨Î©¥ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Îäî ÏûêÏã†Ïùò Î≤ÑÏ†Ñ Ï§ë ÏùºÏπòÌïòÎäî Í≤ÉÏù¥ ÏûàÎã§Î©¥ Ïó∞Í≤∞ÏùÑ ÏßÄÏÜçÌïúÎã§.

2. ÏÑúÎ≤ÑÍ∞Ä ÏûêÏã†Ïùò Í≥µÍ∞úÌÇ§Î•º ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Ïóê Ï†ÑÏÜ°ÌïúÎã§. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Îäî ÏÑúÎ≤ÑÎì§Ïùò Í≥µÍ∞úÌÇ§Î•º ~/.ssh/known_hosts ÌååÏùºÏóê Ï†ÄÏû•ÌïúÎã§.

3.1. Ïò¨Î∞îÎ•∏ ÏÑúÎ≤ÑÏù∏ÏßÄ ÌôïÏù∏
    1. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏóêÏÑú ÎÇúÏàò ÏÉùÏÑ± Î∞è ÎÇúÏàò Ìï¥ÏãúÍ∞í ÏÉùÏÑ±, Ï†ÄÏû•
    2. ÎÇúÏàòÎ•º ÏÑúÎ≤ÑÏùò Í≥µÍ∞úÌÇ§Î°ú ÏïîÌò∏Ìôî ÌõÑ ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°
    3. ÏÑúÎ≤ÑÏóêÏÑú ÏÑúÎ≤ÑÏùò Í∞úÏù∏ÌÇ§Î°ú Î≥µÌò∏ÌôîÌï¥ ÎÇúÏàòÎ•º Ï∂îÏ∂ú
    4. ÏÑúÎ≤ÑÏóêÏÑú Î≥µÌò∏ÌôîÎêú ÎÇúÏàòÏùò Ìï¥ÏãúÍ∞íÏùÑ ÏÉùÏÑ± Ìïú Îí§ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏóêÍ≤å Ï†ÑÏÜ°
    5. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Ïóê Ï†ÄÏû•Îêú Ìï¥ÏãúÍ∞íÍ≥º ÏÑúÎ≤ÑÎ°úÎ∂ÄÌÑ∞ Ï†ÑÏÜ° Î∞õÏùÄ Ìï¥ÏãúÍ∞í ÎπÑÍµê
    6. ÎèôÏùºÌïòÎ©¥ Ïò¨Î∞îÎ•∏ ÏÑúÎ≤Ñ ÌôïÏù∏

3.2. ÏïîÌò∏ÌôîÎêú ÌÜµÏã†ÏùÑ ÏúÑÌïú ÏÑ∏ÏÖòÌÇ§(ÎåÄÏπ≠ÌÇ§) ÏÉùÏÑ±
Ï†ÑÏ≤¥ ÏÑ∏ÏÖòÏùÑ ÏïîÌò∏ÌôîÌïòÎäîÎç∞ ÏÇ¨Ïö©ÎêòÎäî ÏÑ∏ÏÖòÌÇ§Îäî ÎåÄÏπ≠ÌÇ§Î°ú, Î™®Îì† ÌÜµÏã†ÏùÑ ÏïîÌò∏ÌôîÌïúÎã§. ÎåÄÏπ≠ÌÇ§Îäî ÎπÑÎåÄÏπ≠ÌÇ§ Î∞©ÏãùÏóê ÎπÑÌï¥ Îπ†Î•¥Í≥† Ïª¥Ìì®ÌåÖ ÌååÏõåÍ∞Ä Ï†ÅÍ≤å ÎìúÎäî ÎåÄÏã†, Ïú†Ï∂úÎê† Í≤ΩÏö∞ Í≥µÍ≤©ÏûêÍ∞Ä Î™®Îì† ÌÜµÏã† Îç∞Ïù¥ÌÑ∞Î•º Î≥µÌò∏ÌôîÌï† Ïàò ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê ÌÇ§ ÍµêÌôò ÏïåÍ≥†Î¶¨Ï¶òÏùÑ ÌÜµÌï¥ ÏïàÏ†ÑÌïòÍ≤å ÎåÄÏπ≠ÌÇ§Î•º Í≥µÏú†ÌïúÎã§. SSHÏóêÏÑúÎäî ÎîîÌîº-Ìó¨Îßå(Diffie-Hellman) ÏïåÍ≥†Î¶¨Ï¶òÏùÑ ÏÇ¨Ïö©ÌïúÎã§. Ïù¥Îäî ÏÉÅÎåÄÎ∞©Ïùò Í≥µÍ∞úÌÇ§ÏôÄ ÎÇòÏùò Í∞úÏù∏ÌÇ§Î•º ÌÜµÌï¥ ÎåÄÏπ≠ÌÇ§Î•º ÏñªÏñ¥ÎÇ∏Îã§. Ïó¨Í∏∞ÏÑú ÏÑúÎ≤ÑÏôÄ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Í∞ÅÍ∞ÅÏùÄ ÏûÑÏãú ÎπÑÎåÄÏπ≠ÌÇ§ ÌÇ§ ÏåçÏùÑ ÏÉùÏÑ±ÌïòÍ≥† Í≥µÍ∞úÌÇ§Î•º ÍµêÌôòÌïúÎã§. Í∑∏Îü¨Î©¥ DHÎ•º ÌÜµÌï¥ ÏÑúÎ°úÎäî ÏÑ∏ÏÖòÌÇ§Î•º Í≥µÏú†ÌïòÍ≤å ÎêòÍ≥†, Î™®Îì† ÌÜµÏã†ÏùÄ Ïù¥ ÏÑ∏ÏÖòÌÇ§Î°ú ÏïîÌò∏ÌôîÎêòÎ©∞ Ïù¥ ÎåÄÏπ≠ÌÇ§Îäî Í∞úÎ≥Ñ ÏÑ∏ÏÖòÏóê ÎåÄÌï¥ ÏÉùÏÑ±ÎêúÎã§. Îî∞ÎùºÏÑú Í≥ºÍ±∞Ïùò ÏÑ∏ÏÖòÌÇ§Í∞Ä Ïú†Ï∂úÎêòÏñ¥ÎèÑ, ÌòÑÏû¨ ÌÜµÏã†Ìïú Îç∞Ïù¥ÌÑ∞Ïùò ÎÇ¥Ïö©ÏùÄ ÏïåÏïÑÎÇº Ïàò ÏóÜÎã§.

3.3. ÏÑúÎ≤Ñ Ï†ëÍ∑º Í∞ÄÎä•Ìïú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Ïù∏ÏßÄ ÌôïÏù∏
Ìå®Ïä§ÏõåÎìú Ïù∏Ï¶ùÍ≥º SSH ÌÇ§Ïåç Î∞©ÏãùÏù¥ ÏûàÎã§. Ìå®Ïä§ÏõåÎìú Î∞©ÏãùÏùÄ ÏÑ∏ÏÖòÌÇ§Î•º ÌÜµÌï¥ ÏïîÌò∏ÌôîÎêòÏñ¥ Î≥¥Ìò∏ÎêúÎã§. Í∂åÏû•ÎêòÎäî Î∞©ÏãùÏùÄ SSH ÌÇ§ ÏåçÏùÑ Ïù¥Ïö©ÌïòÎäî Í≤ÉÏù¥Îã§. Ïù¥Îäî Ïò¨Î∞îÎ•∏ ÏÑúÎ≤ÑÏù∏ÏßÄ ÌôïÏù∏ÌïòÎäî Î∞©ÏãùÍ≥º Ïú†ÏÇ¨ ÌïòÎã§.
    1. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Ïù∏Ï¶ùÌï† ÌÇ§ ÏåçÏùò IDÎ•º ÏÑúÎ≤ÑÏóê Ï†ÑÏÜ°
    2. ÏÑúÎ≤ÑÎäî ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Ï†ëÏÜçÌïòÍ≥†Ïûê ÌïòÎäî Í≥ÑÏ†ïÏùò .ssh/authorized_key ÌååÏùº ÌôïÏù∏
    3. IDÏóê Îß§Ïπ≠Îêú Í≥µÍ∞úÌÇ§ ÏûàÏúºÎ©¥, ÏÑúÎ≤ÑÎäî ÎÇúÏàò ÏÉùÏÑ± Îí§ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Í≥µÍ∞úÌÇ§Î°ú ÏïîÌò∏Ìôî
    4. ÏÑúÎ≤ÑÎäî ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏóêÍ≤å ÏïîÌò∏ÌôîÎêú Î©îÏÑ∏ÏßÄ Ï†ÑÏÜ°
    5. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Îäî Í∞úÏù∏ÌÇ§Î°ú Î≥µÌò∏Ìôî Ìï¥ ÎÇúÏàò Ï∂îÏ∂ú
    6. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Îäî ÎÇúÏàòÏôÄ ÏÑ∏ÏÖòÌÇ§Î•º Í≤∞Ìï©Ìï¥ Ìï¥ÏãúÍ∞í Í≥ÑÏÇ∞Ìï¥ ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°
    7. ÏÑúÎ≤ÑÎäî ÎÇúÏàòÏôÄ ÏÑ∏ÏÖòÌÇ§ Í≤∞Ìï©Ìï¥ Ìï¥ÏãúÍ∞í Í≥ÑÏÇ∞ ÌõÑ ÎπÑÍµê
    8. ÎèôÏùºÌïòÎ©¥ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ïù∏Ï¶ù ÏôÑÎ£å

### Solution

```bash
# Check Installed or not
apt search openssh-server
dpkg -l openssh-server

# Install
apt install openssh-server

# Check Status and port
sudo systemctl status ssh

# Set port 4242 only
vi /etc/ssh/sshd_config -> Port 4242

# Set impossible to connect using SSH as root
vi /etc/ssh/sshd_config -> PermitRootLogin no

# Restart
sudo systemctl restart ssh
```

# ‚öôÔ∏è¬†Linux Settings

## üîë¬†Strong Password Policy

### Requirements

- 30ÏùºÎßàÎã§ ÎßåÎ£å
- ÏïîÌò∏ ÏÑ§Ï†ï Ï†Ñ ÏµúÏÜå ÌóàÏö© ÏùºÏàòÎäî 2Ïùº
- ÎπÑÎ∞ÄÎ≤àÌò∏ ÎßåÎ£å 7ÏùºÏ†Ñ Í≤ΩÍ≥† Î©îÏÑ∏ÏßÄ ÏàòÏã†
- ÏµúÏÜå 10Ïûê
- ÎåÄÏÜåÎ¨∏Ïûê, Ïà´Ïûê Î∞òÎìúÏãú Ìè¨Ìï®
- Í∞ôÏùÄ Î¨∏Ïûê 3Î≤à Ïó∞ÏÜç Ìè¨Ìï® Î∂àÍ∞Ä
- Ïú†Ï†Ä Ïù¥Î¶Ñ Ìè¨Ìï® Î∂àÍ∞Ä
- Root Í≥ÑÏ†ï Ïô∏ Îã§Î•∏ Í≥ÑÏ†ïÎì§Ïùò Í≤ΩÏö∞ ÏÉàÎ°úÏö¥ ÎπÑÎ∞ÄÎ≤àÌò∏Îäî Ïù¥Ï†Ñ ÎπÑÎ∞ÄÎ≤àÌò∏Ïùò ÏùºÎ∂ÄÍ∞Ä ÏïÑÎãå ÏµúÏÜå 7ÏûêÎ•º Ìè¨Ìï®Ìï¥Ïïº Ìï®
- Root Í≥ÑÏ†ï Ïó≠ÏãúÎèÑ Ï†ïÏ±ÖÏùÑ ÎßåÏ°±Ìï¥Ïïº Ìï®.
- Ï†ïÏ±Ö ÏÑ§Ï†ï ÌõÑÏóêÎäî Root Í≥ÑÏ†ïÏùÑ Ìè¨Ìï®Ìïú Í∞ÄÏÉÅ Î®∏Ïã† ÏÉÅÏóê ÏûàÎäî Î™®Îì† Í≥ÑÏ†ïÎì§Ïùò ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Î∞îÍæ∏Ïñ¥Ïïº Ìï®.

### Solution

```bash
# Set Password Duration
sudo vi /etc/login.defs
# edit
# PASS_MAX_DAYS 30
# PASS_MIN_DAYS 2
# PASS_WARN_AGE 7

# Install libpam-pwquality
sudo apt install libpam-pwquality

# Set strong password policy
sudo vi /etc/pam.d/common-password
# edit
# password requisite pam_pwquality.so [options]
# [options]
# minlen=10 : Least 10 characters long
# ucredit=-1 : Least one Uppercase Letter
# lcredit=-1 : Least one Lowercase Letter
# dcredit=-1 : Least one number
# maxrepeat=3 : Must not contain more than 3 consecutive identical characters
# reject_username : Must not include the name of the user and the opposite
# difok=7 : Must have at least 7 characters that are not part of the former password (except root)
# enforce_for_root : Enforce root to comply with this policy

# Show account aging information
sudo chage -l [username]

# Enforce to change password (Expires passwords)
passwd -e [username]
```

## üë§¬†Strong Configuration for sudo groups

### Sudo

SUDO, excute a comman as another user (Substitute User DO)

### Requirements

- sudoÎ•º ÏÇ¨Ïö©Ìï† Îïå Ïù∏Ï¶ùÏùÄ ÏûòÎ™ªÎêú ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌñàÏùÑ Îïå 3Î≤àÏùò Í∏∞ÌöåÎ°ú Ï†úÌïúÎêòÏñ¥ ÏûàÎã§.
- sudoÎ•º ÏÇ¨Ïö©Ìï† Îïå ÏûòÎ™ªÎêú ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÎ©¥ ÏûÑÏùòÏùò Î©îÏÑ∏ÏßÄÎ•º ÌôîÎ©¥Ïóê ÌëúÏãúÌï¥Ïïº ÌïúÎã§.
- sudoÎ•º ÏÇ¨Ïö©Ìïú Í∞Å ÌñâÎèôÏùò ÏûÖÎ†•Í∞íÍ≥º Ï∂úÎ†•Í∞íÎì§ÏùÄ Î™®Îëê Ï†ÄÏû•ÎêòÏñ¥Ïïº ÌïúÎã§. Î°úÍ∑∏ ÌååÏùºÎì§ÏùÄ /var/log/sudo/ Ìè¥ÎçîÏóê Ï†ÄÏû•ÎêòÏñ¥Ïïº ÌïúÎã§.
- TTY Î™®ÎìúÎäî Î≥¥ÏïàÏÉÅÏùò Ïù¥Ïú†Î°ú ÌôúÏÑ±ÌôîÎêòÏñ¥Ïïº ÌïúÎã§.
- Î≥¥ÏïàÏÉÅÏùò Ïù¥Ïú†Î°ú sudoÎ°ú ÏÇ¨Ïö©Îê† Ïàò ÏûàÎäî Í≤ΩÎ°úÎäî Ï†úÌïúÎêòÏñ¥Ïïº ÌïúÎã§.
    - Example : /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin

### Solution

```bash
# Execute visudo
# Visudo safely edit /etc/sudoers
sudo visudo

# Add these options to file
Defaults passwd_tries=3
Defaults authfail_message="Authentication failed"
Defaults badpass_message="Wrong Password"
Defaults log_input
Defaults log_output
Defaults iolog_dir="/var/log/sudo/"
Defaults requiretty
Defaults secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin"
```

### SECURE_PATH

- sudo Î™ÖÎ†πÏñ¥Îäî ÌòÑÏû¨ Í≥ÑÏ†ïÏùò shellÏù¥ ÏïÑÎãàÎùº Í∞ÄÏÉÅÏùò shellÏùÑ ÏÉùÏÑ±Ìïú Îí§ Í∑∏ ÏïàÏóêÏÑú Ïã§ÌñâÌïúÎã§. Ïù¥ Îïå Í∞ÄÏÉÅ shellÏùò ÌôòÍ≤ΩÎ≥ÄÏàò PATHÎ•º secure_pathÏóê Ï†ÅÌûå Í≤ΩÎ°úÏóêÏÑúÎßå Ï∞æÏïÑ Î™ÖÎ†πÏù¥ Ïã§ÌñâÎêúÎã§. Í∑∏Îü¨Î©¥ shellÏùÑ Ïã§ÌñâÌñàÏùÑ Îïå ÏûÖÎ†•Î∞õÏùÄ shell Î™ÖÎ†πÏñ¥Îì§ÏùÄ PATHÎ°ú ÏßÄÏ†ïÎêú Í≤ΩÎ°úÏóêÏÑú Î∞îÏù¥ÎÑàÎ¶¨ ÌååÏùºÎì§ÏùÑ Ï∞æÏïÑ Î™ÖÎ†πÏùÑ ÏàòÌñâÌïúÎã§.
- ÎßåÏïΩ secure_pathÍ∞Ä ÏßÄÏ†ïÎêòÏñ¥ ÏûàÏßÄ ÏïäÎã§Î©¥, sudo Í∂åÌïúÏù¥ ÏûàÎäî ÏÇ¨Ïö©ÏûêÍ∞Ä sudoÎ•º Ïù¥Ïö©ÌïòÏó¨ PATH ÌôòÍ≤ΩÎ≥ÄÏàòÏóê ÏïÖÏÑ±ÏΩîÎìúÍ∞Ä Ìè¨Ìï®Îêú Í≤ΩÎ°úÏùò Î∞îÏù¥ÎÑàÎ¶¨Î•º Ïã§ÌñâÌï¥ Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌï† Ïàò ÏûàÎã§.

## üëÄ¬†Monitoring.sh

### Requirements

- BashÎ°ú ÏûëÏÑ±
- ÏÑúÎ≤ÑÎ•º ÏºúÎ©¥, ÏïÑÎûòÏóê ÏûàÎäî Ï†ïÎ≥¥Îì§ÏùÑ Î™®Îì† ÌÑ∞ÎØ∏ÎÑêÏóê 10Î∂ÑÎßàÎã§ ÌôîÎ©¥Ïóê ÌëúÏãúÌï¥Ïïº Ìï®. (wall Ï∞∏Í≥†)
- Î∞∞ÎÑàÎäî ÏÑ†ÌÉùÏÇ¨Ìï≠
- Ïñ¥Îñ§ ÏóêÎü¨ÎèÑ Î≥¥Ïù¥Î©¥ ÏïàÎêúÎã§.
- Ïä§ÌÅ¨Î¶ΩÌä∏Î•º ÏàòÏ†ïÌïòÏßÄ ÏïäÍ≥† Ï§ëÎã®Ìï† Ïàò ÏûàÏñ¥Ïïº Ìï®. (cron Ï∞∏Í≥†)

### Informations

- Ïö¥ÏòÅÏ≤¥Ï†úÏùò Íµ¨Ï°∞(Architecture)ÏôÄ Ïª§ÎÑê Î≤ÑÏ†Ñ
- Î¨ºÎ¶¨ ÌîÑÎ°úÏÑ∏ÏÑúÏùò Í∞úÏàò
- Í∞ÄÏÉÅ ÌîÑÎ°úÏÑ∏ÏÑúÏùò Í∞úÏàò
- ÏÑúÎ≤ÑÏóêÏÑú ÏÇ¨Ïö©Í∞ÄÎä•Ìïú Îû®Í≥º Í∑∏ Ïù¥Ïö© ÎπÑÏú®ÏùÑ Î∞±Î∂àÏú®Î°ú ÌëúÌòÑ
- ÏÑúÎ≤ÑÏóêÏÑú ÏÇ¨Ïö©Í∞ÄÎä•Ìïú Î©îÎ™®Î¶¨ÏôÄ Í∑∏ Ïù¥Ïö© ÎπÑÏú®ÏùÑ Î∞±Î∂àÏú®Î°ú ÌëúÌòÑ
- ÌîÑÎ°úÏÑ∏ÏÑúÎì§Ïùò ÌòÑÏû¨ Ïù¥Ïö© ÎπÑÏú®ÏùÑ Î∞±Î∂àÏú®Î°ú ÌëúÌòÑ
- Í∞ÄÏû• ÏµúÍ∑º Ïû¨ÏãúÎèôÎêú ÎÇ†ÏßúÏôÄ ÏãúÍ∞Ñ
- LVM ÌôúÏÑ±Ìôî Ïó¨Î∂Ä
- ÌôúÏÑ±Ìôî Îêú Ïó∞Í≤∞Ïùò Í∞úÏàò
- ÏÑúÎ≤ÑÎ•º ÏÇ¨Ïö©ÌïòÍ≥† ÏûàÎäî Ïú†Ï†ÄÏùò Ïàò
- ÏÑúÎ≤ÑÏùò IPv4 Ï£ºÏÜåÏôÄ ÏÑúÎ≤ÑÏùò MAC Ï£ºÏÜå
- sudo ÌîÑÎ°úÍ∑∏Îû®ÏúºÎ°ú Ïã§ÌñâÎêú Î™ÖÎ†πÏñ¥Ïùò Í∞úÏàò

### Bash file

```bash
#!/bin/bash

os=$(uname -a)

pcpu=$(cat /proc/cpuinfo | sed '/physical id/!d' | uniq -c | wc -l)

vcpu=$(nproc --a)

ram_total=$(free -m | sed '/Mem/!d' | awk '{print $2}')
ram_used=$(free -m | sed '/Mem/!d' | awk '{print $3}')
ram_usage=$(printf "%.2f" $(echo "scale=4;$ram_used/$ram_total*100" | bc))
ram_info="${ram_used}/${ram_total}MB ($ram_usage%%)"

disk_total=$(df -BM | sed '/dev\/map/!d' | awk '{sum += $2} END {print sum}')
disk_used=$(df -BM | sed '/dev\/map/!d' | awk '{sum += $3} END {print sum}')
disk_usage=$(printf "%.2f" $(echo "scale=4;$disk_used/$disk_total*100" | bc))
disk_info="${disk_used}/${disk_total}MB ($disk_usage%%)"

cpu_unused=$(iostat -c | awk 'FNR==4 {print $6}')
cpu_used=$(printf "%.2f" $(echo "100-$cpu_unused" | bc))
cpu_info="${cpu_used}%%"

last_boot_date=$(who -b | awk '{print $3}')
last_boot_time=$(who -b | awk '{print $4}')
last_boot="$last_boot_date $last_boot_time"

lvm_mapper=$(cat /etc/fstab | sed '/\/dev\/mapper\//!d' | wc -l)
lvm_usage=$(if [ $lvm_mapper > 0 ]
			then
				echo "Yes"
			else
				echo "No"
			fi)

connections="$(netstat -ant | sed '/ESTABLISHED/!d' | wc -l) ESTABLISHED"

users=$(who | sed '/pts/!d' | wc -l)

ipv4=$(ip addr | grep inet | grep enp | sed 's/\// /g' | awk '{print $2}')
mac=$(ip addr | sed '/ether/!d' | awk '{print $2}')
network="IP $ipv4 ($mac)"

sudoes="$(echo "($(find /var/log/sudo -type f | wc -l)-1)/8" | bc) cmd"

printf "\t#Architecture : $os\n"
printf "\t#CPU physical : $pcpu\n"
printf "\t#vCPU : $vcpu\n"
printf "\t#Memory Usage : $ram_info\n"
printf "\t#Disk Usage : $disk_info\n"
printf "\t#CPU load : $cpu_info\n"
printf "\t#Last boot : $last_boot\n"
printf "\t#LVM use : $lvm_usage\n"
printf "\t#Connections TCP : $connections\n"
printf "\t#User log : $users\n"
printf "\t#Network : $network\n"
printf "\t#Sudo : $sudoes\n"
```

### Cron

### Notes

- ÏúÑÏóêÏÑú visudoÎ•º ÌÜµÌï¥  `Defaults requirestty` ÏòµÏÖòÏùÑ Ï£ºÏóàÎäîÎç∞, cronÏùÄ tty ÌôòÍ≤ΩÏóêÏÑú Ïã§ÌñâÎêòÏßÄ ÏïäÍ∏∞ ÎïåÎ¨∏Ïóê `sudo` Î™ÖÎ†πÏñ¥Í∞Ä Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏûëÎèôÌïòÏßÄ ÏïäÎäîÎã§.

# ‚ûï¬†Bonus Part

## ‚öôÔ∏è¬†Set up partitions

### Example

![images/Screen Shot 2022-12-24 at 6.32.08 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_6.32.08_PM.png)

- Ï∞∏Í≥† : [https://story-of-flower.tistory.com/m/451](https://story-of-flower.tistory.com/m/451)
- Boot Partition
    - ÌÅ¨Í∏∞ boot (500M) + boot code (2048 * 512) ‚áí (524288000 + 1048576) = 525336576B
    1. Primary
    2. Beginning
    3. Mount point : /boot
- LVMGroup Partition
    - ÌÅ¨Í∏∞ : 32554300416B
        - System Partition (6142 * 512) [3144704]
        - root (10G) [10737418240]
        - swap (2.3G) [2469606195.2] 512 -> 2469606400 2048 -> 2469607424
        - home (5G) [5368709120]
        - var (3G) [3221225472]
        - srv(3G) [3221225472]
        - tmp (3G) [3221225472]
        - var-log (4G) [4294967296]
        - crypt size (2048 * 512 * 16) [16777216]
    1. Logical
    2. Beginning
    
    ![Screen Shot 2022-12-24 at 5.31.42 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_5.31.42_PM.png)
    
- Configure encrypted volumes
    - ÏàòÏ†ïÌïú ÌååÌã∞ÏÖòÏùÑ Î®ºÏ†Ä ÎîîÏä§ÌÅ¨Ïóê Ï†ÅÍ≥† ÎÇú Îí§ ÏïîÌò∏Ìôî Î≥ºÎ•®ÏùÑ ÎßåÎì§ Ïàò ÏûàÏùå.
    - Create encrypted volumes
    
    ![Screen Shot 2022-12-24 at 5.37.12 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_5.37.12_PM.png)
    
    ![Screen Shot 2022-12-24 at 5.38.15 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_5.38.15_PM.png)
    
    ![Screen Shot 2022-12-24 at 5.42.37 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_5.42.37_PM.png)
    
    ![Screen Shot 2022-12-24 at 6.15.21 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_6.15.21_PM.png)
    
    Passphrase : Leave my door open
    
    /goinfre : born2beroot
    
- Configure the Logical Volume Manager
    - LVMGroup Ïù¥ÎùºÎäî volume groupÏùÑ Î®ºÏ†Ä ÎßåÎì†Îã§.
    
    ![Screen Shot 2022-12-24 at 6.19.12 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_6.19.12_PM.png)
    
    - Create logical volume
        - root (10G) [10737418240]
        - swap (2.3G) [2469606195.2] 512 -> 2469606400 2048 -> 2469607424
        - home (5G) [5368709120]
        - var (3G) [3221225472]
        - srv(3G) [3221225472]
        - tmp (3G) [3221225472]
        - var‚Äîlog (4G) [4294967296]
        - crypt size (2048 * 512 * 16) [16777216]
        
        ![Screen Shot 2022-12-24 at 6.27.07 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_6.27.07_PM.png)
        
- Mount point setting
    
    ![Screen Shot 2022-12-24 at 6.29.28 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_6.29.28_PM.png)
    
    Use as : Ext4 journaling file system ‚Üí Mount point ÏÑ§Ï†ï
    
    ![Screen Shot 2022-12-24 at 6.33.48 PM.png](README%20md%202ed0a84498664e7ea842cc3958ad40ac/Screen_Shot_2022-12-24_at_6.33.48_PM.png)
    

## üåê¬†Set functional WordPress

- using lighttpd, MariaDB, PHP

### WordPress

### Lighttpd

### MariaDB

### PHP

## üé≤¬†Set up a optional service

```bash
sudo apt install gpm
```
